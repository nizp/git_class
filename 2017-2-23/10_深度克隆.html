<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
</head>
<body>
<script type="text/javascript">
	/*
		如果value值为对象，就继续for in
		不是对象就赋值
	*/
	
	var obj = {
		name:'leo',
		num:0,
		arr:[1,2,3],
		fn:function(){},
		json:{
			"key":"hehe"
		}
	}
	
	var obj2 = {};
	
	function extend(obj){ //extend ->深度克隆
//		console.log(obj.push);
		//var toStr = Object.prototype.toString;
		//var o = toStr.call(obj) === '[object Array]'?[]:{};
		var o = obj.push?[]:{};
		for(var attr in obj){
			//判断obj[attr]是不是对象类型的，如果是就再循环。
			if(typeof obj[attr] === 'object'){
				o[attr] =  extend(obj[attr]);
			}else{
				o[attr] = obj[attr];
			}
		}
		return o;
	}
	
	
	var obj2 = extend(obj);
	
	//obj2.num = 10;
	
	obj2.arr.push(10);

	console.log(obj2);

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	//var obj2 = JSON.parse(JSON.stringify(obj));  //json2.js
	
	//将leo -> Leo
	
//	console.log(JSON.stringify(obj,function(key,value){
//		if(key == 'name'){
//			return value.charAt().toUpperCase() + value.substring(1); 
//		}
//		return value;
//	},10));
	
	
//	console.log(JSON.stringify(obj,function(key,value){
//		if(key == 'num'){
//			return 10;
//		}
//		return value;
//	}));

	
	
	
	
	
</script>
</body>
</html>
